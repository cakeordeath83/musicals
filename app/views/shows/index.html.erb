

<div class="row">
  <h1>All Shows</h1>
    <div class="addbutton" style="margin-top:-50px;">
      <div style="text-align:center; margin-bottom: 10px;" >
        <%= link_to "Add new show", new_show_path, :class => "btn btn-primary" %>
    </div>
</div>

<div class="row" style="margin-top: 30px;">
<div class="container col-md-offset-2">
  <div class="table-responsive">
    <table class="table col-md-6">
      <thead>
            <tr>
              <th></th>
              <th>Show name</th>
              <th>Number of times seen</th>
              <th></th>
              
            </tr>
      </thead>
      
      <tbody>
        <% @shows.sort_by{|s| s.name}.each do |show| %>
          <tr>
            <td class="col-md-1 images"><%= link_to (image_tag show.picture.url(:thumb)), show_path(show) %></td>
            <td class="col-md-3"><%= link_to show.name, show_path(show) %></td>
            <td class="col-md-1"><%= link_to @performances.find_all{|p| p.show_id == show.id}.count, show_path(show) %></td>
            <!-- Pretty sure that there should be a better way of doing this! -->
            <td class="col-md-1"><%= link_to "Edit", edit_show_path(show), :class => "btn btn-sm btn-default" %>    <%= link_to "Delete", show_path(show), method: :delete, data: {confirm: "Are you sure?"}, :class => "btn btn-sm btn-default"%></td>
            
        <% end %>
      </tbody>
    </table>
  </div>
  
</div>
          
</div>



